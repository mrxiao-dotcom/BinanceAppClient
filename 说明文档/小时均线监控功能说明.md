# å°æ—¶å‡çº¿ç›‘æ§åŠŸèƒ½è¯´æ˜

## åŠŸèƒ½æ¦‚è¿°

å°æ—¶å‡çº¿ç›‘æ§åŠŸèƒ½å…è®¸ç”¨æˆ·è·å–æ‰€æœ‰å¯äº¤æ˜“åˆçº¦çš„1å°æ—¶Kçº¿æ•°æ®ï¼Œå¹¶è®¡ç®—EMAï¼ˆæŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼‰å‡çº¿ï¼Œå®æ—¶ç›‘æ§ä»·æ ¼ä¸å‡çº¿çš„è·ç¦»ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. æ•°æ®è·å–
- è‡ªåŠ¨è·å–æ‰€æœ‰å¯äº¤æ˜“åˆçº¦çš„å°æ—¶Kçº¿æ•°æ®
- å¯é…ç½®è·å–çš„Kçº¿æ•°é‡ï¼ˆXæ ¹Kçº¿ï¼‰
- æ”¯æŒæœ¬åœ°ç¼“å­˜å’Œæ–‡ä»¶å­˜å‚¨
- æ˜¾ç¤ºä¸‹è½½è¿›åº¦ï¼ˆè¿›åº¦ç™¾åˆ†æ¯”å’Œå½“å‰å¤„ç†çš„åˆçº¦ï¼‰

### 2. EMAè®¡ç®—
- æ”¯æŒè‡ªå®šä¹‰EMAå‘¨æœŸï¼ˆNå¤©å‡çº¿ï¼‰
- ä½¿ç”¨æ ‡å‡†EMAè®¡ç®—å…¬å¼ï¼šEMA(t) = Price(t) * k + EMA(t-1) * (1 - k)ï¼Œå…¶ä¸­ k = 2 / (period + 1)
- ç¬¬ä¸€ä¸ªEMAå€¼ä½¿ç”¨ç®€å•ç§»åŠ¨å¹³å‡ï¼ˆSMAï¼‰åˆå§‹åŒ–
- ä¸ºæ¯ä¸ªæ—¶é—´ç‚¹ä¿å­˜å¯¹åº”çš„EMAå€¼

### 3. å®æ—¶ç›‘æ§
- æ¯5åˆ†é’Ÿè‡ªåŠ¨æ›´æ–°ç›‘æ§æ•°æ®
- æ˜¾ç¤ºå½“å‰ä»·æ ¼ã€EMAå€¼å’Œè·ç¦»ç™¾åˆ†æ¯”
- æ˜¾ç¤º24å°æ—¶æ¶¨è·Œå¹…
- æ”¯æŒå¯åŠ¨/åœæ­¢ç›‘æ§

### 4. æ•°æ®å±•ç¤º
- è¡¨æ ¼å±•ç¤ºæ‰€æœ‰åˆçº¦çš„ç›‘æ§ç»“æœ
- è·ç¦»å’Œæ¶¨è·Œå¹…ä½¿ç”¨é¢œè‰²æ ‡è¯†ï¼ˆçº¢è‰²ä¸ºæ­£ï¼Œç»¿è‰²ä¸ºè´Ÿï¼‰
- åŒå‡»åˆçº¦åå¯å¤åˆ¶åˆ°å‰ªè´´æ¿
- æ˜¾ç¤ºKçº¿æ•°æ®æ•°é‡å’Œæ›´æ–°æ—¶é—´

## ä½¿ç”¨æ–¹æ³•

### 1. æ‰“å¼€çª—å£
- åœ¨ä¸»çª—å£å·¦ä¾§å¯¼èˆªæ ç‚¹å‡»"â±ï¸ å°æ—¶å‡çº¿ç›‘æ§"æŒ‰é’®
- çª—å£æ‰“å¼€åï¼Œæ˜¾ç¤ºæ§åˆ¶é¢æ¿å’Œæ•°æ®å±•ç¤ºåŒºåŸŸ

### 2. è®¾ç½®å‚æ•°
- **Nå¤©å‡çº¿**ï¼šè®¡ç®—è¿‡å»Nä¸ªKçº¿çš„EMAå‡å€¼ï¼ˆé»˜è®¤26ï¼‰
- **Xæ ¹Kçº¿**ï¼šè·å–æœ€è¿‘Xæ ¹1å°æ—¶Kçº¿ï¼ˆé»˜è®¤100ï¼‰
- æ³¨æ„ï¼šXå¿…é¡»å¤§äºç­‰äºN

### 3. è·å–æ•°æ®
1. ç‚¹å‡»"ğŸ“¥ è·å–å°æ—¶Kçº¿"æŒ‰é’®
2. ç³»ç»Ÿå¼€å§‹ä¸‹è½½æ‰€æœ‰å¯äº¤æ˜“åˆçº¦çš„Kçº¿æ•°æ®
3. çŠ¶æ€æ æ˜¾ç¤ºä¸‹è½½è¿›åº¦
4. ä¸‹è½½å®Œæˆåè‡ªåŠ¨è®¡ç®—EMA
5. è®¡ç®—å®Œæˆåæ˜¾ç¤ºç›‘æ§ç»“æœ

### 4. å¯åŠ¨ç›‘æ§
1. æ•°æ®è·å–å®Œæˆåï¼Œ"â–¶ï¸ å¯åŠ¨ç›‘æ§"æŒ‰é’®å˜ä¸ºå¯ç”¨
2. ç‚¹å‡»"å¯åŠ¨ç›‘æ§"å¼€å§‹å®æ—¶ç›‘æ§
3. ç³»ç»Ÿæ¯5åˆ†é’Ÿè‡ªåŠ¨æ›´æ–°ä¸€æ¬¡æ•°æ®
4. ç›‘æ§æœŸé—´æ— æ³•ä¿®æ”¹å‚æ•°æˆ–é‡æ–°è·å–æ•°æ®

### 5. åœæ­¢ç›‘æ§
1. ç‚¹å‡»"â¸ï¸ åœæ­¢ç›‘æ§"æŒ‰é’®åœæ­¢ç›‘æ§
2. åœæ­¢åå¯ä»¥ä¿®æ”¹å‚æ•°æˆ–é‡æ–°è·å–æ•°æ®

### 6. æ¸…é™¤ç¼“å­˜
- ç‚¹å‡»"ğŸ—‘ï¸ æ¸…é™¤ç¼“å­˜"æŒ‰é’®æ¸…é™¤æ‰€æœ‰æœ¬åœ°ç¼“å­˜æ•°æ®
- æ¸…é™¤åéœ€è¦é‡æ–°è·å–æ•°æ®

## æ•°æ®åˆ—è¯´æ˜

| åˆ—å | è¯´æ˜ |
|------|------|
| åˆçº¦å | åˆçº¦äº¤æ˜“å¯¹åç§° |
| æœ€æ–°ä»·æ ¼ | å½“å‰å¸‚åœºä»·æ ¼ |
| å½“å‰EMA | æœ€æ–°çš„EMAå‡çº¿å€¼ |
| è·ç¦»EMA(%) | å½“å‰ä»·æ ¼è·ç¦»EMAçš„ç™¾åˆ†æ¯”ï¼Œæ­£å€¼è¡¨ç¤ºåœ¨å‡çº¿ä¸Šæ–¹ï¼Œè´Ÿå€¼è¡¨ç¤ºåœ¨å‡çº¿ä¸‹æ–¹ |
| 24Hæ¶¨å¹…(%) | 24å°æ—¶ä»·æ ¼å˜åŒ–ç™¾åˆ†æ¯” |
| Kçº¿æ•°é‡ | ç¼“å­˜ä¸­çš„Kçº¿æ•°æ®æ•°é‡ |
| æ›´æ–°æ—¶é—´ | æœ€åæ›´æ–°æ—¶é—´ |

## æœ¬åœ°å­˜å‚¨

### å­˜å‚¨ä½ç½®
- æ•°æ®å­˜å‚¨åœ¨ `KlineData/HourlyEma/` ç›®å½•ä¸‹
- æ¯ä¸ªåˆçº¦ä¿å­˜ä¸ºç‹¬ç«‹çš„JSONæ–‡ä»¶ï¼š`{Symbol}_hourly.json`

### æ–‡ä»¶æ ¼å¼
```json
{
  "symbol": "BTCUSDT",
  "klines": [
    {
      "openTime": "2025-01-01T00:00:00Z",
      "closePrice": 42000.0,
      ...
    }
  ],
  "emaValues": {
    "2025-01-01T00:00:00Z": 41500.0,
    "2025-01-01T01:00:00Z": 41600.0,
    ...
  },
  "lastUpdateTime": "2025-01-01T12:00:00Z"
}
```

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒç»„ä»¶

1. **HourlyEmaModels.cs**
   - æ•°æ®æ¨¡å‹å®šä¹‰
   - HourlyEmaParametersï¼šå‚æ•°æ¨¡å‹
   - HourlyKlineDataï¼šKçº¿å’ŒEMAæ•°æ®æ¨¡å‹
   - HourlyEmaMonitorResultï¼šç›‘æ§ç»“æœæ¨¡å‹
   - HourlyKlineDownloadProgressï¼šä¸‹è½½è¿›åº¦æ¨¡å‹

2. **IHourlyEmaService.cs**
   - æœåŠ¡æ¥å£å®šä¹‰
   - å®šä¹‰äº†æ•°æ®è·å–ã€EMAè®¡ç®—ã€ç›‘æ§ç­‰æ–¹æ³•

3. **HourlyEmaService.cs**
   - æœåŠ¡å®ç°
   - è´Ÿè´£Kçº¿æ•°æ®è·å–ã€EMAè®¡ç®—ã€æ–‡ä»¶å­˜å‚¨ç­‰æ ¸å¿ƒé€»è¾‘
   - ä½¿ç”¨å†…å­˜ç¼“å­˜æé«˜æ€§èƒ½

4. **HourlyEmaMonitorWindow.xaml/cs**
   - WPFç”¨æˆ·ç•Œé¢
   - æŒ‰é’®æ§åˆ¶ã€æ•°æ®å±•ç¤ºã€å®šæ—¶ç›‘æ§ç­‰äº¤äº’é€»è¾‘

### EMAè®¡ç®—æ–¹æ³•

```csharp
// EMAè®¡ç®—å…¬å¼
decimal multiplier = 2.0m / (period + 1);

// ç¬¬ä¸€ä¸ªEMAå€¼ä½¿ç”¨SMA
decimal sma = klines.Take(period).Average(k => k.ClosePrice);
emaValues[klines[period - 1].OpenTime] = sma;

// åç»­EMAå€¼
for (int i = period; i < klines.Count; i++)
{
    var currentPrice = klines[i].ClosePrice;
    var previousEma = emaValues[klines[i - 1].OpenTime];
    var currentEma = (currentPrice * multiplier) + (previousEma * (1 - multiplier));
    emaValues[klines[i].OpenTime] = currentEma;
}
```

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®ä¸‹è½½æ—¶é—´**
   - é¦–æ¬¡è·å–æ•°æ®å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼ˆå–å†³äºåˆçº¦æ•°é‡å’Œç½‘ç»œçŠ¶å†µï¼‰
   - å»ºè®®åœ¨ç½‘ç»œè‰¯å¥½çš„ç¯å¢ƒä¸‹ä½¿ç”¨

2. **å‚æ•°è®¾ç½®**
   - Nå¤©å‡çº¿å‘¨æœŸä¸èƒ½å¤§äºXæ ¹Kçº¿æ•°é‡
   - å»ºè®®Nå€¼è®¾ç½®ä¸º20-30ä¹‹é—´ï¼Œå¸¸ç”¨å€¼ä¸º26
   - Xå€¼å»ºè®®è®¾ç½®ä¸º100-500ä¹‹é—´

3. **ç›‘æ§é¢‘ç‡**
   - ç›‘æ§æ¯5åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼Œé¿å…è¿‡äºé¢‘ç¹çš„APIè°ƒç”¨
   - å¦‚éœ€æ›´é¢‘ç¹çš„æ›´æ–°ï¼Œå¯ä»¥ä¿®æ”¹ä»£ç ä¸­çš„å®šæ—¶å™¨é—´éš”

4. **èµ„æºå ç”¨**
   - æ•°æ®ä¼šå ç”¨ç£ç›˜ç©ºé—´ï¼Œå®šæœŸæ¸…ç†ä¸éœ€è¦çš„ç¼“å­˜æ–‡ä»¶
   - ç›‘æ§è¿è¡Œæ—¶ä¼šå ç”¨ä¸€å®šçš„CPUå’Œå†…å­˜èµ„æº

## ä½¿ç”¨åœºæ™¯

1. **è¶‹åŠ¿è·Ÿè¸ª**
   - è§‚å¯Ÿä»·æ ¼ä¸å‡çº¿çš„å…³ç³»
   - è¯†åˆ«è¶‹åŠ¿å¼ºåº¦å’Œæ–¹å‘

2. **å…¥åœºæ—¶æœº**
   - ä»·æ ¼æ¥è¿‘å‡çº¿æ—¶å¯èƒ½æ˜¯å…¥åœºæœºä¼š
   - è·ç¦»EMAç™¾åˆ†æ¯”å¯ä½œä¸ºå‚è€ƒæŒ‡æ ‡

3. **æ‰¹é‡ç›‘æ§**
   - åŒæ—¶ç›‘æ§æ‰€æœ‰åˆçº¦çš„å‡çº¿çŠ¶æ€
   - å¿«é€Ÿå‘ç°æœºä¼šå“ç§

4. **æ•°æ®åˆ†æ**
   - å¯¼å‡ºæ•°æ®è¿›è¡Œè¿›ä¸€æ­¥åˆ†æ
   - ç»“åˆå…¶ä»–æŒ‡æ ‡åˆ¶å®šäº¤æ˜“ç­–ç•¥

## åç»­ä¼˜åŒ–å»ºè®®

1. å¢åŠ å¤šå‘¨æœŸEMAæ”¯æŒï¼ˆå¦‚EMA5ã€EMA10ã€EMA20åŒæ—¶æ˜¾ç¤ºï¼‰
2. æ·»åŠ å‡çº¿äº¤å‰æé†’åŠŸèƒ½
3. æ”¯æŒè‡ªå®šä¹‰ç›‘æ§é—´éš”
4. å¢åŠ å›¾è¡¨å¯è§†åŒ–å±•ç¤º
5. æ·»åŠ ç­›é€‰æ¡ä»¶ï¼ˆå¦‚åªæ˜¾ç¤ºè·ç¦»åœ¨Â±3%ä»¥å†…çš„åˆçº¦ï¼‰
6. æ”¯æŒæ•°æ®å¯¼å‡ºåŠŸèƒ½
7. æ·»åŠ å†å²å›æµ‹åŠŸèƒ½

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-01)
- é¦–æ¬¡å‘å¸ƒ
- æ”¯æŒå°æ—¶Kçº¿è·å–å’ŒEMAè®¡ç®—
- å®ç°å®æ—¶ç›‘æ§åŠŸèƒ½
- æä¾›æ•°æ®å±•ç¤ºå’Œæœ¬åœ°å­˜å‚¨åŠŸèƒ½

