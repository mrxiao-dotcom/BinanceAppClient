# 🔍 量比排行"暂无数据"问题排查指南

## 问题现象
仪表板中显示："暂无数据（需要加载合约流通量信息）"

## 📋 排查步骤

### 1. 检查App.config配置
打开 `src/BinanceApps.WPF/App.config`，确认第13-14行：
```xml
<add key="ContractApiServerUrl" value="http://localhost:8080" />
```

**修改为您的实际API地址**

### 2. 测试API是否可访问
在浏览器或命令行测试：
```bash
curl http://your-api-address:port/api/contract?includeDisabled=false
```

应该返回类似：
```json
{
  "success": true,
  "data": [
    {
      "name": "BTC",
      "circulatingSupply": 19000000,
      ...
    }
  ]
}
```

### 3. 查看应用启动日志
启动应用后，查看控制台输出，应该看到：
```
🔧 合约API服务器地址: http://...
📊 正在从本地API加载合约流通量信息...
🌐 API地址: http://.../api/contract
🔗 正在请求: http://.../api/contract?includeDisabled=false
📡 HTTP响应状态: OK
📦 接收到数据，长度: XXX 字节
🔍 解析结果 - Success: True, Data Count: XX
✅ 成功加载 XX 个合约信息到缓存
```

### 4. 常见问题

#### 问题1: API地址配置错误
**症状**: 看到 `❌ API请求失败: XXX`

**解决**: 
- 检查App.config中的地址是否正确
- 确认API服务器正在运行
- 检查端口号是否正确

#### 问题2: API返回数据格式不对
**症状**: 看到 `⚠️ API返回数据为空或失败`

**解决**:
- 检查API返回的JSON格式是否正确
- 确认有 `success` 和 `data` 字段
- 确认每个合约有 `name` 和 `circulatingSupply` 字段

#### 问题3: 合约符号不匹配
**症状**: 缓存加载成功，但仪表板仍显示"暂无数据"

**解决**:
- 检查API返回的合约 `name` 字段
- 系统会自动将 `BTC` 转换为 `BTCUSDT`
- 确认API返回的合约名称与币安合约匹配

## 🔧 强制重新加载

重启应用会重新加载合约信息缓存。

## 📞 需要支持

如果以上都检查过了还是不行，请提供：
1. App.config中的ContractApiServerUrl值
2. API测试结果（curl输出）
3. 应用启动日志（控制台输出）

---
**按照以上步骤排查，通常都能解决问题** ✅ 